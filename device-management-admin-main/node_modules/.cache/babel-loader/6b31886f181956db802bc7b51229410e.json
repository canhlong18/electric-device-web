{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport pathToRegexp from 'path-to-regexp';\nimport { urlToList } from './pathTools'; // 渲染Breadcrumb 子节点\n// Render the Breadcrumb child node\n\nvar defaultItemRender = function defaultItemRender(_ref) {\n  var breadcrumbName = _ref.breadcrumbName,\n      path = _ref.path;\n  return _jsx(\"a\", {\n    href: path,\n    children: breadcrumbName\n  });\n};\n\nvar renderItemLocal = function renderItemLocal(item, props) {\n  var formatMessage = props.formatMessage,\n      menu = props.menu;\n\n  if (item.locale && formatMessage && (menu === null || menu === void 0 ? void 0 : menu.locale) !== false) {\n    return formatMessage({\n      id: item.locale,\n      defaultMessage: item.name\n    });\n  }\n\n  return item.name;\n};\n\nexport var getBreadcrumb = function getBreadcrumb(breadcrumbMap, url) {\n  var breadcrumbItem = breadcrumbMap.get(url);\n\n  if (!breadcrumbItem) {\n    // Find the first matching path in the order defined by route config\n    // 按照 route config 定义的顺序找到第一个匹配的路径\n    var keys = Array.from(breadcrumbMap.keys()) || [];\n    var targetPath = keys.find(function (path) {\n      return (// remove ? ,不然会重复\n        pathToRegexp(path.replace('?', '')).test(url)\n      );\n    });\n    if (targetPath) breadcrumbItem = breadcrumbMap.get(targetPath);\n  }\n\n  return breadcrumbItem || {\n    path: ''\n  };\n};\nexport var getBreadcrumbFromProps = function getBreadcrumbFromProps(props) {\n  var location = props.location,\n      breadcrumbMap = props.breadcrumbMap;\n  return {\n    location: location,\n    breadcrumbMap: breadcrumbMap\n  };\n};\n\nvar conversionFromLocation = function conversionFromLocation(routerLocation, breadcrumbMap, props) {\n  // Convertor the url to an array\n  var pathSnippets = urlToList(routerLocation === null || routerLocation === void 0 ? void 0 : routerLocation.pathname); // Loop data mosaic routing\n\n  var extraBreadcrumbItems = pathSnippets.map(function (url) {\n    var currentBreadcrumb = getBreadcrumb(breadcrumbMap, url);\n    var name = renderItemLocal(currentBreadcrumb, props);\n    var hideInBreadcrumb = currentBreadcrumb.hideInBreadcrumb;\n    return name && !hideInBreadcrumb ? {\n      path: url,\n      breadcrumbName: name,\n      component: currentBreadcrumb.component\n    } : {\n      path: '',\n      breadcrumbName: ''\n    };\n  }).filter(function (item) {\n    return item && item.path;\n  });\n  return extraBreadcrumbItems;\n};\n/** 将参数转化为面包屑 Convert parameters into breadcrumbs */\n\n\nexport var genBreadcrumbProps = function genBreadcrumbProps(props) {\n  var _getBreadcrumbFromPro = getBreadcrumbFromProps(props),\n      location = _getBreadcrumbFromPro.location,\n      breadcrumbMap = _getBreadcrumbFromPro.breadcrumbMap; // 根据 location 生成 面包屑\n  // Generate breadcrumbs based on location\n\n\n  if (location && location.pathname && breadcrumbMap) {\n    return conversionFromLocation(location, breadcrumbMap, props);\n  }\n\n  return [];\n}; // use breadcrumbRender to change routes\n\nexport var getBreadcrumbProps = function getBreadcrumbProps(props, layoutPros) {\n  var breadcrumbRender = props.breadcrumbRender,\n      propsItemRender = props.itemRender;\n\n  var _ref2 = layoutPros.breadcrumbProps || {},\n      _ref2$minLength = _ref2.minLength,\n      minLength = _ref2$minLength === void 0 ? 2 : _ref2$minLength;\n\n  var routesArray = genBreadcrumbProps(props);\n  var itemRender = propsItemRender || defaultItemRender;\n  var routes = routesArray; // if routes.length =1, don't show it\n\n  if (breadcrumbRender) {\n    routes = breadcrumbRender(routes) || [];\n  }\n\n  if (routes && routes.length < minLength || breadcrumbRender === false) {\n    routes = undefined;\n  }\n\n  return {\n    routes: routes,\n    itemRender: itemRender\n  };\n};","map":{"version":3,"names":["jsx","_jsx","pathToRegexp","urlToList","defaultItemRender","_ref","breadcrumbName","path","href","children","renderItemLocal","item","props","formatMessage","menu","locale","id","defaultMessage","name","getBreadcrumb","breadcrumbMap","url","breadcrumbItem","get","keys","Array","from","targetPath","find","replace","test","getBreadcrumbFromProps","location","conversionFromLocation","routerLocation","pathSnippets","pathname","extraBreadcrumbItems","map","currentBreadcrumb","hideInBreadcrumb","component","filter","genBreadcrumbProps","_getBreadcrumbFromPro","getBreadcrumbProps","layoutPros","breadcrumbRender","propsItemRender","itemRender","_ref2","breadcrumbProps","_ref2$minLength","minLength","routesArray","routes","length","undefined"],"sources":["D:/Canh Long/Documents/Nam4_Ky 2/Chuyên Đề Mạng/Web/device-management-admin-main/node_modules/@ant-design/pro-layout/es/utils/getBreadcrumbProps.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport pathToRegexp from 'path-to-regexp';\nimport { urlToList } from './pathTools'; // 渲染Breadcrumb 子节点\n// Render the Breadcrumb child node\n\nvar defaultItemRender = function defaultItemRender(_ref) {\n  var breadcrumbName = _ref.breadcrumbName,\n      path = _ref.path;\n  return _jsx(\"a\", {\n    href: path,\n    children: breadcrumbName\n  });\n};\n\nvar renderItemLocal = function renderItemLocal(item, props) {\n  var formatMessage = props.formatMessage,\n      menu = props.menu;\n\n  if (item.locale && formatMessage && (menu === null || menu === void 0 ? void 0 : menu.locale) !== false) {\n    return formatMessage({\n      id: item.locale,\n      defaultMessage: item.name\n    });\n  }\n\n  return item.name;\n};\n\nexport var getBreadcrumb = function getBreadcrumb(breadcrumbMap, url) {\n  var breadcrumbItem = breadcrumbMap.get(url);\n\n  if (!breadcrumbItem) {\n    // Find the first matching path in the order defined by route config\n    // 按照 route config 定义的顺序找到第一个匹配的路径\n    var keys = Array.from(breadcrumbMap.keys()) || [];\n    var targetPath = keys.find(function (path) {\n      return (// remove ? ,不然会重复\n        pathToRegexp(path.replace('?', '')).test(url)\n      );\n    });\n    if (targetPath) breadcrumbItem = breadcrumbMap.get(targetPath);\n  }\n\n  return breadcrumbItem || {\n    path: ''\n  };\n};\nexport var getBreadcrumbFromProps = function getBreadcrumbFromProps(props) {\n  var location = props.location,\n      breadcrumbMap = props.breadcrumbMap;\n  return {\n    location: location,\n    breadcrumbMap: breadcrumbMap\n  };\n};\n\nvar conversionFromLocation = function conversionFromLocation(routerLocation, breadcrumbMap, props) {\n  // Convertor the url to an array\n  var pathSnippets = urlToList(routerLocation === null || routerLocation === void 0 ? void 0 : routerLocation.pathname); // Loop data mosaic routing\n\n  var extraBreadcrumbItems = pathSnippets.map(function (url) {\n    var currentBreadcrumb = getBreadcrumb(breadcrumbMap, url);\n    var name = renderItemLocal(currentBreadcrumb, props);\n    var hideInBreadcrumb = currentBreadcrumb.hideInBreadcrumb;\n    return name && !hideInBreadcrumb ? {\n      path: url,\n      breadcrumbName: name,\n      component: currentBreadcrumb.component\n    } : {\n      path: '',\n      breadcrumbName: ''\n    };\n  }).filter(function (item) {\n    return item && item.path;\n  });\n  return extraBreadcrumbItems;\n};\n/** 将参数转化为面包屑 Convert parameters into breadcrumbs */\n\n\nexport var genBreadcrumbProps = function genBreadcrumbProps(props) {\n  var _getBreadcrumbFromPro = getBreadcrumbFromProps(props),\n      location = _getBreadcrumbFromPro.location,\n      breadcrumbMap = _getBreadcrumbFromPro.breadcrumbMap; // 根据 location 生成 面包屑\n  // Generate breadcrumbs based on location\n\n\n  if (location && location.pathname && breadcrumbMap) {\n    return conversionFromLocation(location, breadcrumbMap, props);\n  }\n\n  return [];\n}; // use breadcrumbRender to change routes\n\nexport var getBreadcrumbProps = function getBreadcrumbProps(props, layoutPros) {\n  var breadcrumbRender = props.breadcrumbRender,\n      propsItemRender = props.itemRender;\n\n  var _ref2 = layoutPros.breadcrumbProps || {},\n      _ref2$minLength = _ref2.minLength,\n      minLength = _ref2$minLength === void 0 ? 2 : _ref2$minLength;\n\n  var routesArray = genBreadcrumbProps(props);\n  var itemRender = propsItemRender || defaultItemRender;\n  var routes = routesArray; // if routes.length =1, don't show it\n\n  if (breadcrumbRender) {\n    routes = breadcrumbRender(routes) || [];\n  }\n\n  if (routes && routes.length < minLength || breadcrumbRender === false) {\n    routes = undefined;\n  }\n\n  return {\n    routes: routes,\n    itemRender: itemRender\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}