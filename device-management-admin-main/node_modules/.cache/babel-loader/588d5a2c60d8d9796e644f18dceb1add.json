{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\nimport useSWR from 'swr';\nvar testId = 0;\n\nfunction useFetchData(props) {\n  /** Key 是用来缓存请求的，如果不在是有问题 */\n  var _useState = useState(function () {\n    if (props.proFieldKey) {\n      return props.proFieldKey.toString();\n    }\n\n    testId += 1;\n    return testId.toString();\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      cacheKey = _useState2[0];\n\n  var proFieldKeyRef = useRef(cacheKey);\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _props$request;\n\n      var loadData;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return (_props$request = props.request) === null || _props$request === void 0 ? void 0 : _props$request.call(props, props.params, props);\n\n            case 2:\n              loadData = _context.sent;\n              return _context.abrupt(\"return\", loadData);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    return function () {\n      testId += 1;\n    };\n  }, []);\n\n  var _useSWR = useSWR([proFieldKeyRef.current, props.params], fetchData, {\n    revalidateOnFocus: false,\n    shouldRetryOnError: false,\n    revalidateOnReconnect: false\n  }),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  return [data || error];\n}\n\nexport default useFetchData;","map":{"version":3,"names":["_regeneratorRuntime","_asyncToGenerator","_slicedToArray","useEffect","useRef","useState","useSWR","testId","useFetchData","props","_useState","proFieldKey","toString","_useState2","cacheKey","proFieldKeyRef","fetchData","_ref","mark","_callee","_props$request","loadData","wrap","_callee$","_context","prev","next","request","call","params","sent","abrupt","stop","apply","arguments","_useSWR","current","revalidateOnFocus","shouldRetryOnError","revalidateOnReconnect","data","error"],"sources":["D:/Canh Long/Documents/Nam4_Ky 2/Chuyên Đề Mạng/Web/device-management-admin-main/node_modules/@ant-design/pro-utils/es/hooks/useFetchData/index.js"],"sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\nimport useSWR from 'swr';\nvar testId = 0;\n\nfunction useFetchData(props) {\n  /** Key 是用来缓存请求的，如果不在是有问题 */\n  var _useState = useState(function () {\n    if (props.proFieldKey) {\n      return props.proFieldKey.toString();\n    }\n\n    testId += 1;\n    return testId.toString();\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      cacheKey = _useState2[0];\n\n  var proFieldKeyRef = useRef(cacheKey);\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _props$request;\n\n      var loadData;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return (_props$request = props.request) === null || _props$request === void 0 ? void 0 : _props$request.call(props, props.params, props);\n\n            case 2:\n              loadData = _context.sent;\n              return _context.abrupt(\"return\", loadData);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    return function () {\n      testId += 1;\n    };\n  }, []);\n\n  var _useSWR = useSWR([proFieldKeyRef.current, props.params], fetchData, {\n    revalidateOnFocus: false,\n    shouldRetryOnError: false,\n    revalidateOnReconnect: false\n  }),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  return [data || error];\n}\n\nexport default useFetchData;"],"mappings":"AAAA,OAAOA,mBAAP,MAAgC,+CAAhC;AACA,OAAOC,iBAAP,MAA8B,6CAA9B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,IAAIC,MAAM,GAAG,CAAb;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;EAC3B;EACA,IAAIC,SAAS,GAAGL,QAAQ,CAAC,YAAY;IACnC,IAAII,KAAK,CAACE,WAAV,EAAuB;MACrB,OAAOF,KAAK,CAACE,WAAN,CAAkBC,QAAlB,EAAP;IACD;;IAEDL,MAAM,IAAI,CAAV;IACA,OAAOA,MAAM,CAACK,QAAP,EAAP;EACD,CAPuB,CAAxB;EAAA,IAQIC,UAAU,GAAGX,cAAc,CAACQ,SAAD,EAAY,CAAZ,CAR/B;EAAA,IASII,QAAQ,GAAGD,UAAU,CAAC,CAAD,CATzB;;EAWA,IAAIE,cAAc,GAAGX,MAAM,CAACU,QAAD,CAA3B;;EAEA,IAAIE,SAAS,GAAG,aAAa,YAAY;IACvC,IAAIC,IAAI,GAAGhB,iBAAiB,EAAE,aAAaD,mBAAmB,GAAGkB,IAAtB,CAA2B,SAASC,OAAT,GAAmB;MACvF,IAAIC,cAAJ;;MAEA,IAAIC,QAAJ;MACA,OAAOrB,mBAAmB,GAAGsB,IAAtB,CAA2B,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;QAC5D,OAAO,CAAP,EAAU;UACR,QAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;YACE,KAAK,CAAL;cACEF,QAAQ,CAACE,IAAT,GAAgB,CAAhB;cACA,OAAO,CAACN,cAAc,GAAGX,KAAK,CAACkB,OAAxB,MAAqC,IAArC,IAA6CP,cAAc,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,cAAc,CAACQ,IAAf,CAAoBnB,KAApB,EAA2BA,KAAK,CAACoB,MAAjC,EAAyCpB,KAAzC,CAAzF;;YAEF,KAAK,CAAL;cACEY,QAAQ,GAAGG,QAAQ,CAACM,IAApB;cACA,OAAON,QAAQ,CAACO,MAAT,CAAgB,QAAhB,EAA0BV,QAA1B,CAAP;;YAEF,KAAK,CAAL;YACA,KAAK,KAAL;cACE,OAAOG,QAAQ,CAACQ,IAAT,EAAP;UAXJ;QAaD;MACF,CAhBM,EAgBJb,OAhBI,CAAP;IAiBD,CArB0C,CAAf,CAA5B;;IAuBA,OAAO,SAASH,SAAT,GAAqB;MAC1B,OAAOC,IAAI,CAACgB,KAAL,CAAW,IAAX,EAAiBC,SAAjB,CAAP;IACD,CAFD;EAGD,CA3B4B,EAA7B;;EA6BA/B,SAAS,CAAC,YAAY;IACpB,OAAO,YAAY;MACjBI,MAAM,IAAI,CAAV;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;;EAMA,IAAI4B,OAAO,GAAG7B,MAAM,CAAC,CAACS,cAAc,CAACqB,OAAhB,EAAyB3B,KAAK,CAACoB,MAA/B,CAAD,EAAyCb,SAAzC,EAAoD;IACtEqB,iBAAiB,EAAE,KADmD;IAEtEC,kBAAkB,EAAE,KAFkD;IAGtEC,qBAAqB,EAAE;EAH+C,CAApD,CAApB;EAAA,IAKIC,IAAI,GAAGL,OAAO,CAACK,IALnB;EAAA,IAMIC,KAAK,GAAGN,OAAO,CAACM,KANpB;;EAQA,OAAO,CAACD,IAAI,IAAIC,KAAT,CAAP;AACD;;AAED,eAAejC,YAAf"},"metadata":{},"sourceType":"module"}